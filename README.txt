ЗАДАНИЕ 1

Создайте таблицу users_old, аналогичную таблице users. Создайте процедуру, с помощью которой можно
переместить любого (одного) пользователя из таблицы users в таблицу users_old. (использование 
транзакции с выбором commit или rollback – обязательно)

РЕШЕНИЕ:

1) Cоздаём процедуру move_user_to_old, которая перемещает пользователя с определённым user_id из таблицы users в новую таблицу users_old. 
2) Перед выполнением процедуры создаётся копия структуры таблицы users в таблице users_old, а затем изменяется тип столбца id на BIGINT UNSIGNED NOT NULL UNIQUE. 
3) Процедура выполняет перемещение данных с помощью транзакции, чтобы обеспечить атомарность операции. 
4) Если во время выполнения процедуры возникает исключение SQL, транзакция откатывается. В противном случае транзакция завершается успешно.

ЗАДАНИЕ 2

Создайте хранимую функцию hello(), которая будет возвращать приветствие, в зависимости от текущего времени суток.
С 6:00 до 12:00 функция должна возвращать фразу "Доброе утро", с 12:00 до 18:00 функция должна возвращать фразу
"Добрый день", с 18:00 до 00:00 — "Добрый вечер", с 00:00 до 6:00 — "Доброй ночи".

РЕШЕНИЕ:

1) Cоздаём функцию hello, которая принимает один аргумент типа TIME и возвращает строку приветствия в зависимости от времени суток. 
2) Функция определяет четыре случая для различных временных интервалов, присваивает соответствующее приветствие переменной result и возвращает значение этой переменной. 
4) Ключевое слово DETERMINISTIC указывает, что функция всегда будет возвращать один и тот же результат для одних и тех же входных данных.